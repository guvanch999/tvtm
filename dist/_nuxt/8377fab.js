(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{586:function(e,t,n){"use strict";n.r(t);var o=n(130),r=n(117),l=n(93),c=n(583),d=n(268),f=n(11),m=(n(55),{components:{LoadingComponent:n(572).default},props:{message:{type:String,default:"Deleted record cant be restored!!"},isLoading:{type:Boolean,default:!1}},methods:{closeDialog:function(){this.$emit("closeDialog")},deleteRecordHandler:function(){var e=this;return Object(f.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.$emit("deleteAccepted");case 1:case"end":return t.stop()}}),t)})))()}}}),w=n(87),component=Object(w.a)(m,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"popUpBg"},[t("div",{staticClass:"popUpCardClass",staticStyle:{width:"30%"}},[t(r.a,{staticStyle:{position:"relative"}},[t(l.d,{staticStyle:{"background-color":"red",color:"white"}},[e._v("\n        Pay attention!!!\n        "),t(d.a),e._v(" "),t("span",{staticClass:"mdi mdi-close icon-button-class",on:{click:e.closeDialog}})],1),e._v(" "),t(l.c,[t("div",{staticStyle:{display:"flex","min-height":"100px","align-items":"center",color:"red","justify-content":"center"}},[t("span",{staticClass:"mdi mdi-alert",staticStyle:{"font-size":"56px"}}),e._v(" "),t("label",{staticStyle:{"margin-left":"10px","font-size":"20px"}},[e._v(e._s(e.message))])])]),e._v(" "),t(c.a),e._v(" "),t(l.a,[t(d.a),e._v(" "),t(o.a,{attrs:{depressed:"",small:""},on:{click:e.closeDialog}},[e._v("cancel")]),e._v(" "),t(o.a,{staticStyle:{color:"white","background-color":"red"},attrs:{depressed:"",small:""},on:{click:e.deleteRecordHandler}},[e._v("delete")])],1),e._v(" "),e.isLoading?t("LoadingComponent"):e._e()],1)],1)])}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{LoadingComponent:n(572).default})},644:function(e,t,n){"use strict";n.r(t);var o=n(130),r=n(93),l=n(638),c=n(583),d=n(584),f=n(268),m=(n(12),n(14),n(13),n(6),n(20),n(15),n(21),n(11)),w=n(4),v=(n(55),n(572)),h=n(118),D=n(609),_=n(586);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){Object(w.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x={components:{ErrorComponent:n(573).default,DeleteConfirmDialog:_.default,NewsForm:D.default,LoadingComponent:v.default},data:function(){return{isLoading:!1,page:1,headers:[{text:"ID",value:"id"},{text:"Title",value:"title"},{text:"Type",value:"type"},{text:"Text",value:"text"},{text:"Actions",value:"actions",align:"right",width:"10%"}],newsFormDialog:!1,selectedNews:null,deleteConfirmDialog:!1,isDeleting:!1,errorMessage:null}},methods:C(C({},Object(h.b)({loadNews:"news/loadAllNews",deleteNews:"news/removeNews"})),{},{loadList:function(){var e=this;return Object(m.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,e.loadNews({page:e.page});case 3:e.isLoading=!1;case 4:case"end":return t.stop()}}),t)})))()},deleteNewsHandler:function(){var e=this;return Object(m.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isDeleting){t.next=2;break}return t.abrupt("return");case 2:return e.isDeleting=!0,t.next=5,e.deleteNews(e.selectedNews.id);case 5:n=t.sent,e.isDeleting=!1,n?(e.closeDeleteConfirmDialog(),e.resetList()):e.errorMessage="Cannot delete news data. Please try again.";case 8:case"end":return t.stop()}}),t)})))()},closeDeleteConfirmDialog:function(){this.selectedNews=null,this.deleteConfirmDialog=!1},resetList:function(){this.page=1,this.loadList()},closeNewsFormDialog:function(){this.selectedNews=null,this.newsFormDialog=!1},selectForEdit:function(e){this.selectedNews=e,this.newsFormDialog=!0},selectForDelete:function(e){this.selectedNews=e,this.deleteConfirmDialog=!0}}),computed:C(C({},Object(h.c)({news:"news/get_news_list",total:"news/get_total_count"})),{},{pageCount:function(){return Math.ceil(this.total/20)}}),mounted:function(){this.loadList()}},O=n(87),component=Object(O.a)(x,(function(){var e=this,t=e._self._c;return t("div",{staticStyle:{position:"relative"}},[t(r.d,[e._v("News\n    "),t(f.a),e._v(" "),t(o.a,{staticStyle:{"background-color":"#32BCA3",color:"white"},attrs:{small:"",depressed:""},on:{click:function(t){e.newsFormDialog=!0}}},[t("span",{staticClass:"mdi mdi-plus mdi-18px"})])],1),e._v(" "),t(c.a),e._v(" "),t(l.a,{attrs:{items:e.news,headers:e.headers,"disable-pagination":"","hide-default-footer":""},scopedSlots:e._u([{key:"item.actions",fn:function(n){var o=n.item;return[t("span",{staticClass:"mdi mdi-pencil mdi-18px icon-button-class",on:{click:function(t){return e.selectForEdit(o)}}}),e._v(" "),t("span",{staticClass:"mdi mdi-delete mdi-18px icon-button-class",on:{click:function(t){return e.selectForDelete(o)}}})]}},{key:"item.text",fn:function(n){var o=n.item;return[t("div",{staticStyle:{"max-height":"100px",padding:"10px","overflow-y":"auto"},domProps:{innerHTML:e._s(o.text)}})]}}])}),e._v(" "),e.newsFormDialog?t("news-form",{attrs:{news:e.selectedNews},on:{closeDialog:e.closeNewsFormDialog,resetList:e.resetList}}):e._e(),e._v(" "),e.pageCount>1?t(d.a,{attrs:{length:e.pageCount,circle:""},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}}):e._e(),e._v(" "),e.isLoading?t("loading-component"):e._e(),e._v(" "),e.deleteConfirmDialog?t("delete-confirm-dialog",{attrs:{"is-loading":e.isDeleting,message:"Be carefully deleted data cant be restored"},on:{closeDialog:e.closeDeleteConfirmDialog,deleteAccepted:e.deleteNewsHandler}}):e._e(),e._v(" "),e.errorMessage?t("error-component",{attrs:{message:e.errorMessage},on:{closeError:function(t){e.errorMessage=null}}}):e._e()],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{NewsForm:n(609).default,LoadingComponent:n(572).default,DeleteConfirmDialog:n(586).default,ErrorComponent:n(573).default})}}]);