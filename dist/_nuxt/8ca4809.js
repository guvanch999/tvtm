(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{585:function(e,t,l){"use strict";l.r(t);var n=l(130),o=l(93),c=l(638),r=l(583),d=l(584),m=l(604),f=l(268),h=l(219),v=(l(32),l(221),l(12),l(14),l(13),l(6),l(20),l(15),l(21),l(11)),_=l(4),D=(l(55),l(572)),C=l(118),y=l(599);function x(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),l.push.apply(l,n)}return l}function O(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?x(Object(l),!0).forEach((function(t){Object(_.a)(e,t,l[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):x(Object(l)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))}))}return e}var k={props:{isDialog:{type:Boolean,default:!1},diller:{type:Object,default:null}},components:{ClientForm:y.default,LoadingComponent:D.default},data:function(){return{isLoading:!1,page:1,headers:[{text:"Id",value:"id",sortable:!1},{text:"Card number",value:"cardnumber",sortable:!1},{text:"Name - Surname",value:"name",sortable:!1},{text:"Phone number",value:"telnumber",sortable:!1},{text:"Paket",value:"packet",sortable:!1},{text:"Srok",value:"srok",sortable:!1},{text:"Actions",value:"actions",width:"10%",align:"right",sortable:!1}],selectedClient:null,clientFormDialog:!1,deleteConfirmDialog:!1,search:null,limit:20,pageLimits:[10,20,30,50,100]}},watch:{page:function(){this.loadData()},limit:function(){this.resetList()},search:function(){this.resetList()}},methods:O(O({},Object(C.b)({loadClients:"clients/loadAllClients",deleteClient:"clients/deleteClient"})),{},{resetList:function(){this.page=1,this.loadData()},closeDialog:function(){this.$emit("closeDialog")},loadData:function(){var e=this;return Object(v.a)(regeneratorRuntime.mark((function t(){var l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,e.loadClients({page:e.page,diller_id:null===(l=e.diller)||void 0===l?void 0:l.id,search:e.search,limit:e.limit});case 3:e.isLoading=!1;case 4:case"end":return t.stop()}}),t)})))()},goToDetail:function(e){this.$router.push("clients/"+e.id)},selectForEdit:function(e){this.selectedClient=e,this.clientFormDialog=!0},selectForDelete:function(e){this.selectedClient=e,this.deleteConfirmDialog=!0},closeClientFormDialog:function(){this.selectedClient=null,this.clientFormDialog=!1}}),computed:O(O({},Object(C.c)({clients:"clients/get_clients_list",total:"clients/get_total_count"})),{},{page_count:function(){return Math.ceil(this.total/this.limit)}}),mounted:function(){this.loadData()}},w=l(87),component=Object(w.a)(k,(function(){var e=this,t=e._self._c;return t("div",{staticStyle:{position:"relative"}},[t(o.d,[e._v("\n    Cards\n    "),t(f.a),e._v(" "),t(n.a,{staticStyle:{"background-color":"#32BCA3",color:"white"},attrs:{depressed:"",small:""},on:{click:function(t){e.clientFormDialog=!0}}},[t("span",{staticClass:"mdi mdi-plus mdi-18px"})]),e._v(" "),e.isDialog?t(n.a,{staticStyle:{"background-color":"darkred",color:"white","margin-left":"10px"},attrs:{depressed:"",small:""},on:{click:e.closeDialog}},[t("span",{staticClass:"mdi mdi-close mdi-18px"})]):e._e()],1),e._v(" "),t(r.a),e._v(" "),t("div",{staticStyle:{display:"flex"}},[t(h.a,{staticStyle:{flex:"3"},attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),e._v(" "),e.$device.isDesktop?t("div",{staticStyle:{flex:"3"}}):t("div",{staticStyle:{width:"10px"}}),e._v(" "),t("div",{staticStyle:{flex:"1"}},[t(m.a,{attrs:{items:e.pageLimits},model:{value:e.limit,callback:function(t){e.limit=t},expression:"limit"}})],1)],1),e._v(" "),t(c.a,{attrs:{"hide-default-footer":"","disable-pagination":"",headers:e.headers,items:e.clients},scopedSlots:e._u([{key:"item.actions",fn:function(l){var n=l.item;return[t("span",{staticClass:"mdi mdi-eye mdi-18px icon-button-class",on:{click:function(t){return e.goToDetail(n)}}}),e._v(" "),t("span",{staticClass:"mdi mdi-pencil mdi-18px icon-button-class",on:{click:function(t){return e.selectForEdit(n)}}}),e._v(" "),t("span",{staticClass:"mdi mdi-delete mdi-18px icon-button-class",on:{click:function(t){return e.selectForDelete(n)}}})]}}])}),e._v(" "),t(r.a),e._v(" "),e.clientFormDialog?t("client-form",{attrs:{client:e.selectedClient},on:{closeDialog:e.closeClientFormDialog,resetList:e.resetList}}):e._e(),e._v(" "),e.isLoading?t("loading-component"):e._e(),e._v(" "),e.page_count>1?t(d.a,{attrs:{length:e.page_count,circle:""},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}}):e._e()],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{LoadingComponent:l(572).default})}}]);