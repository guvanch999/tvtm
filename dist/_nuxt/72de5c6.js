(window.webpackJsonp=window.webpackJsonp||[]).push([[21,9],{582:function(e,t,n){"use strict";n.r(t);var l=n(130),o=n(93),r=n(622),c=n(580),d=n(267),m=(n(13),n(14),n(11),n(6),n(20),n(12),n(21),n(17)),f=n(4),v=(n(68),n(569)),h=n(118),C=n(591);function D(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function O(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?D(Object(source),!0).forEach((function(t){Object(f.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):D(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var _={props:{isDialog:{type:Boolean,default:!1},diller:{type:Object,default:null}},components:{ClientForm:C.default,LoadingComponent:v.default},data:function(){return{isLoading:!1,page:1,headers:[{text:"Id",value:"id"},{text:"Card number",value:"cardnumber"},{text:"Name - Surname",value:"name"},{text:"Phone number",value:"telnumber"},{text:"Paket",value:"packet"},{text:"Srok",value:"srok"},{text:"Actions",value:"actions",width:"10%",align:"right"}],selectedClient:null,clientFormDialog:!1,deleteConfirmDialog:!1}},methods:O(O({},Object(h.b)({loadClients:"clients/loadAllClients",deleteClient:"clients/deleteClient"})),{},{resetList:function(){this.page=1,this.loadData()},closeDialog:function(){this.$emit("closeDialog")},loadData:function(){var e=this;return Object(m.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,e.loadClients({page:e.page,diller_id:null===(n=e.diller)||void 0===n?void 0:n.id});case 3:e.isLoading=!1;case 4:case"end":return t.stop()}}),t)})))()},goToDetail:function(e){this.$router.push("clients/"+e.id)},selectForEdit:function(e){this.selectedClient=e,this.clientFormDialog=!0},selectForDelete:function(e){this.selectedClient=e,this.deleteConfirmDialog=!0},closeClientFormDialog:function(){this.selectedClient=null,this.clientFormDialog=!1}}),computed:O({},Object(h.c)({clients:"clients/get_clients_list",total:"clients/get_total_count"})),mounted:function(){this.loadData()}},j=n(87),component=Object(j.a)(_,(function(){var e=this,t=e._self._c;return t("div",{staticStyle:{position:"relative"}},[t(o.d,[e._v("\n    Cards\n    "),t(d.a),e._v(" "),t(l.a,{staticStyle:{"background-color":"#32BCA3",color:"white"},attrs:{depressed:"",small:""},on:{click:function(t){e.clientFormDialog=!0}}},[t("span",{staticClass:"mdi mdi-plus mdi-18px"})]),e._v(" "),e.isDialog?t(l.a,{staticStyle:{"background-color":"darkred",color:"white","margin-left":"10px"},attrs:{depressed:"",small:""},on:{click:e.closeDialog}},[t("span",{staticClass:"mdi mdi-close mdi-18px"})]):e._e()],1),e._v(" "),t(c.a),e._v(" "),t(r.a,{attrs:{"hide-default-footer":"","disable-pagination":"",headers:e.headers,items:e.clients},scopedSlots:e._u([{key:"item.actions",fn:function(n){var l=n.item;return[t("span",{staticClass:"mdi mdi-eye mdi-18px icon-button-class",on:{click:function(t){return e.goToDetail(l)}}}),e._v(" "),t("span",{staticClass:"mdi mdi-pencil mdi-18px icon-button-class",on:{click:function(t){return e.selectForEdit(l)}}}),e._v(" "),t("span",{staticClass:"mdi mdi-delete mdi-18px icon-button-class",on:{click:function(t){return e.selectForDelete(l)}}})]}}])}),e._v(" "),e.clientFormDialog?t("client-form",{attrs:{client:e.selectedClient},on:{closeDialog:e.closeClientFormDialog,resetList:e.resetList}}):e._e(),e._v(" "),e.isLoading?t("loading-component"):e._e()],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{LoadingComponent:n(569).default})},623:function(e,t,n){"use strict";n.r(t);var l={components:{ClientsList:n(582).default}},o=n(87),component=Object(o.a)(l,(function(){return(0,this._self._c)("clients-list")}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{ClientsList:n(582).default})}}]);