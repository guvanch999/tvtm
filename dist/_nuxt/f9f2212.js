(window.webpackJsonp=window.webpackJsonp||[]).push([[23,10],{585:function(t,e,l){"use strict";l.r(e);var n=l(130),o=l(93),c=l(638),r=l(583),d=l(584),m=l(604),f=l(268),h=l(219),v=(l(32),l(221),l(12),l(14),l(13),l(6),l(20),l(15),l(21),l(11)),_=l(4),C=(l(55),l(572)),D=l(118),x=l(599);function y(t,e){var l=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),l.push.apply(l,n)}return l}function O(t){for(var e=1;e<arguments.length;e++){var l=null!=arguments[e]?arguments[e]:{};e%2?y(Object(l),!0).forEach((function(e){Object(_.a)(t,e,l[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(l)):y(Object(l)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(l,e))}))}return t}var k={props:{isDialog:{type:Boolean,default:!1},diller:{type:Object,default:null}},components:{ClientForm:x.default,LoadingComponent:C.default},data:function(){return{isLoading:!1,page:1,headers:[{text:"Id",value:"id",sortable:!1},{text:"Card number",value:"cardnumber",sortable:!1},{text:"Name - Surname",value:"name",sortable:!1},{text:"Phone number",value:"telnumber",sortable:!1},{text:"Paket",value:"packet",sortable:!1},{text:"Srok",value:"srok",sortable:!1},{text:"Actions",value:"actions",width:"10%",align:"right",sortable:!1}],selectedClient:null,clientFormDialog:!1,deleteConfirmDialog:!1,search:null,limit:20,pageLimits:[10,20,30,50,100]}},watch:{page:function(){this.loadData()},limit:function(){this.resetList()},search:function(){this.resetList()}},methods:O(O({},Object(D.b)({loadClients:"clients/loadAllClients",deleteClient:"clients/deleteClient"})),{},{resetList:function(){this.page=1,this.loadData()},closeDialog:function(){this.$emit("closeDialog")},loadData:function(){var t=this;return Object(v.a)(regeneratorRuntime.mark((function e(){var l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.next=3,t.loadClients({page:t.page,diller_id:null===(l=t.diller)||void 0===l?void 0:l.id,search:t.search,limit:t.limit});case 3:t.isLoading=!1;case 4:case"end":return e.stop()}}),e)})))()},goToDetail:function(t){this.$router.push("clients/"+t.id)},selectForEdit:function(t){this.selectedClient=t,this.clientFormDialog=!0},selectForDelete:function(t){this.selectedClient=t,this.deleteConfirmDialog=!0},closeClientFormDialog:function(){this.selectedClient=null,this.clientFormDialog=!1}}),computed:O(O({},Object(D.c)({clients:"clients/get_clients_list",total:"clients/get_total_count"})),{},{page_count:function(){return Math.ceil(this.total/this.limit)}}),mounted:function(){this.loadData()}},w=l(87),component=Object(w.a)(k,(function(){var t=this,e=t._self._c;return e("div",{staticStyle:{position:"relative"}},[e(o.d,[t._v("\n    Cards\n    "),e(f.a),t._v(" "),e(n.a,{staticStyle:{"background-color":"#32BCA3",color:"white"},attrs:{depressed:"",small:""},on:{click:function(e){t.clientFormDialog=!0}}},[e("span",{staticClass:"mdi mdi-plus mdi-18px"})]),t._v(" "),t.isDialog?e(n.a,{staticStyle:{"background-color":"darkred",color:"white","margin-left":"10px"},attrs:{depressed:"",small:""},on:{click:t.closeDialog}},[e("span",{staticClass:"mdi mdi-close mdi-18px"})]):t._e()],1),t._v(" "),e(r.a),t._v(" "),e("div",{staticStyle:{display:"flex"}},[e(h.a,{staticStyle:{flex:"3"},attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t._v(" "),t.$device.isDesktop?e("div",{staticStyle:{flex:"3"}}):e("div",{staticStyle:{width:"10px"}}),t._v(" "),e("div",{staticStyle:{flex:"1"}},[e(m.a,{attrs:{items:t.pageLimits},model:{value:t.limit,callback:function(e){t.limit=e},expression:"limit"}})],1)],1),t._v(" "),e(c.a,{attrs:{"hide-default-footer":"","disable-pagination":"",headers:t.headers,items:t.clients},scopedSlots:t._u([{key:"item.actions",fn:function(l){var n=l.item;return[e("span",{staticClass:"mdi mdi-eye mdi-18px icon-button-class",on:{click:function(e){return t.goToDetail(n)}}}),t._v(" "),e("span",{staticClass:"mdi mdi-pencil mdi-18px icon-button-class",on:{click:function(e){return t.selectForEdit(n)}}}),t._v(" "),e("span",{staticClass:"mdi mdi-delete mdi-18px icon-button-class",on:{click:function(e){return t.selectForDelete(n)}}})]}}])}),t._v(" "),e(r.a),t._v(" "),t.clientFormDialog?e("client-form",{attrs:{client:t.selectedClient},on:{closeDialog:t.closeClientFormDialog,resetList:t.resetList}}):t._e(),t._v(" "),t.isLoading?e("loading-component"):t._e(),t._v(" "),t.page_count>1?e(d.a,{attrs:{length:t.page_count,circle:""},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}}):t._e()],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{LoadingComponent:l(572).default})},639:function(t,e,l){"use strict";l.r(e);var n={components:{ClientsList:l(585).default}},o=l(87),component=Object(o.a)(n,(function(){return(0,this._self._c)("clients-list")}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{ClientsList:l(585).default})}}]);